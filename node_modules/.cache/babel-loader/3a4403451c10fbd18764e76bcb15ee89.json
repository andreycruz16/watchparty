{"ast":null,"code":"import _asyncToGenerator from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/runner/work/watchparty/watchparty/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{Menu,Input,Icon,Dropdown}from'semantic-ui-react';import{debounce,getMediaPathResults,getYouTubeResults}from'../../utils';import{examples}from'../../utils/examples';import ChatVideoCard from'../Playlist/ChatVideoCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ComboBox=/*#__PURE__*/function(_React$Component){_inherits(ComboBox,_React$Component);var _super=_createSuper(ComboBox);function ComboBox(){var _this;_classCallCheck(this,ComboBox);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={inputMedia:undefined,results:undefined,loading:false,lastResultTimestamp:Number(new Date())};_this.debounced=null;_this.setMediaAndClose=function(e,data){window.setTimeout(function(){return _this.setState({inputMedia:undefined,results:undefined});},300);_this.props.setMedia(e,data);};_this.doSearch=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.persist();_this.setState({inputMedia:e.target.value},function(){if(!_this.debounced){_this.debounced=debounce(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var query,timestamp,results,items,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({loading:true});query=_this.state.inputMedia||'';timestamp=Number(new Date());results=undefined;if(!(query===''||query&&query.startsWith('http'))){_context.next=14;break;}items=examples;if(!(!_this.state.inputMedia&&_this.props.mediaPath)){_context.next=10;break;}_context.next=9;return getMediaPathResults(_this.props.mediaPath,'');case 9:items=_context.sent;case 10:if(query){items=[{name:query,type:'file',url:query,duration:0}];}results=items.map(function(result,index){return/*#__PURE__*/_jsx(Menu.Item,{style:{padding:'2px'},onClick:function onClick(e){return _this.setMediaAndClose(e,{value:result.url});},children:/*#__PURE__*/_jsx(ChatVideoCard,{video:result,index:index,onPlaylistAdd:_this.props.playlistAdd})},result.url);});_context.next=18;break;case 14:_context.next=16;return getYouTubeResults(query);case 16:_data=_context.sent;results=_data.map(function(result,index){return/*#__PURE__*/_jsx(Menu.Item,{onClick:function onClick(e){return _this.setMediaAndClose(e,{value:result.url});},children:/*#__PURE__*/_jsx(ChatVideoCard,{video:result,index:index,onPlaylistAdd:_this.props.playlistAdd,isYoutube:true})},result.url);});case 18:if(timestamp>_this.state.lastResultTimestamp){_this.setState({loading:false,results:results,lastResultTimestamp:timestamp});}case 19:case\"end\":return _context.stop();}}},_callee);})),500);}_this.debounced();});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(ComboBox,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,currentMedia=_this$props.currentMedia,getMediaDisplayName=_this$props.getMediaDisplayName;var results=this.state.results;return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'4px'},children:[/*#__PURE__*/_jsx(Input,{style:{flexGrow:1},inverted:true,fluid:true,focus:true,disabled:this.props.disabled,onChange:this.doSearch,onFocus:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.persist();_this2.setState({inputMedia:getMediaDisplayName(currentMedia)},function(){if(!_this2.state.inputMedia||_this2.state.inputMedia&&_this2.state.inputMedia.startsWith('http')){_this2.doSearch(e);}});setTimeout(function(){return e.target.select();},100);case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}(),onBlur:function onBlur(){setTimeout(function(){return _this2.setState({inputMedia:undefined,results:undefined});},100);},onKeyPress:function onKeyPress(e){if(e.key==='Enter'){_this2.setMediaAndClose(e,{value:_this2.state.inputMedia});}},icon:/*#__PURE__*/_jsx(Icon,{onClick:function onClick(e){return _this2.setMediaAndClose(e,{value:_this2.state.inputMedia});},name:\"arrow right\",link:true,circular:true//bordered\n}),loading:this.state.loading,label:'Now Watching:',placeholder:\"Enter video file URL, YouTube link, or YouTube search term\",value:this.state.inputMedia!==undefined?this.state.inputMedia:getMediaDisplayName(currentMedia)}),/*#__PURE__*/_jsx(Dropdown,{icon:\"list\",labeled:true,className:\"icon\",button:true,text:\"Playlist (\".concat(this.props.playlist.length,\")\"),scrolling:true,children:/*#__PURE__*/_jsxs(Dropdown.Menu,{direction:\"left\",children:[this.props.playlist.length===0&&/*#__PURE__*/_jsx(Dropdown.Item,{disabled:true,children:\"There are no items in the playlist.\"}),this.props.playlist.map(function(item,index){return/*#__PURE__*/_jsx(Dropdown.Item,{children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'500px'},children:/*#__PURE__*/_jsx(ChatVideoCard,{video:item,index:index,controls:true,onPlay:function onPlay(index){var _this2$props$playlist;_this2.props.setMedia(null,{value:(_this2$props$playlist=_this2.props.playlist[index])===null||_this2$props$playlist===void 0?void 0:_this2$props$playlist.url});_this2.props.playlistDelete(index);},onPlayNext:function onPlayNext(index){_this2.props.playlistMove(index,0);},onRemove:function onRemove(index){_this2.props.playlistDelete(index);},disabled:_this2.props.disabled,isYoutube:Boolean(item.img)})})});})]})})]}),Boolean(results)&&this.state.inputMedia!==undefined&&/*#__PURE__*/_jsx(Menu,{fluid:true,vertical:true,style:{position:'absolute',top:'22px',maxHeight:'250px',overflow:'scroll',zIndex:1001},children:results})]});}}]);return ComboBox;}(React.Component);","map":{"version":3,"sources":["/home/runner/work/watchparty/watchparty/src/components/ComboBox/ComboBox.tsx"],"names":["React","Menu","Input","Icon","Dropdown","debounce","getMediaPathResults","getYouTubeResults","examples","ChatVideoCard","ComboBox","state","inputMedia","undefined","results","loading","lastResultTimestamp","Number","Date","debounced","setMediaAndClose","e","data","window","setTimeout","setState","props","setMedia","doSearch","persist","target","value","query","timestamp","startsWith","items","mediaPath","name","type","url","duration","map","result","index","padding","playlistAdd","currentMedia","getMediaDisplayName","position","display","gap","flexGrow","disabled","select","key","playlist","length","item","maxWidth","playlistDelete","playlistMove","Boolean","img","top","maxHeight","overflow","zIndex","Component"],"mappings":"iuBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAwBC,IAAxB,CAA8BC,KAA9B,CAAqCC,IAArC,CAA2CC,QAA3C,KAA2D,mBAA3D,CACA,OAASC,QAAT,CAAmBC,mBAAnB,CAAwCC,iBAAxC,KAAiE,aAAjE,CACA,OAASC,QAAT,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,2BAA1B,C,wFAgBA,UAAaC,CAAAA,QAAb,+UACEC,KADF,CACU,CACNC,UAAU,CAAEC,SADN,CAENC,OAAO,CAAED,SAFH,CAGNE,OAAO,CAAE,KAHH,CAINC,mBAAmB,CAAEC,MAAM,CAAC,GAAIC,CAAAA,IAAJ,EAAD,CAJrB,CADV,OAOEC,SAPF,CAOmB,IAPnB,OASEC,gBATF,CASqB,SAACC,CAAD,CAASC,IAAT,CAAiC,CAClDC,MAAM,CAACC,UAAP,CACE,iBAAM,OAAKC,QAAL,CAAc,CAAEb,UAAU,CAAEC,SAAd,CAAyBC,OAAO,CAAED,SAAlC,CAAd,CAAN,EADF,CAEE,GAFF,EAIA,MAAKa,KAAL,CAAWC,QAAX,CAAoBN,CAApB,CAAuBC,IAAvB,EACD,CAfH,OAiBEM,QAjBF,0FAiBa,kBAAOP,CAAP,sHACTA,CAAC,CAACQ,OAAF,GACA,MAAKJ,QAAL,CAAc,CAAEb,UAAU,CAAES,CAAC,CAACS,MAAF,CAASC,KAAvB,CAAd,CAA8C,UAAM,CAClD,GAAI,CAAC,MAAKZ,SAAV,CAAqB,CACnB,MAAKA,SAAL,CAAiBd,QAAQ,sEAAC,2KACxB,MAAKoB,QAAL,CAAc,CAAEV,OAAO,CAAE,IAAX,CAAd,EACMiB,KAFkB,CAEF,MAAKrB,KAAL,CAAWC,UAAX,EAAyB,EAFvB,CAGpBqB,SAHoB,CAGRhB,MAAM,CAAC,GAAIC,CAAAA,IAAJ,EAAD,CAHE,CAIpBJ,OAJoB,CAIiBD,SAJjB,MAKpBmB,KAAK,GAAK,EAAV,EAAiBA,KAAK,EAAIA,KAAK,CAACE,UAAN,CAAiB,MAAjB,CALN,2BAMlBC,KANkB,CAMV3B,QANU,MAOlB,CAAC,MAAKG,KAAL,CAAWC,UAAZ,EAA0B,MAAKc,KAAL,CAAWU,SAPnB,iDAQN9B,CAAAA,mBAAmB,CAAC,MAAKoB,KAAL,CAAWU,SAAZ,CAAuB,EAAvB,CARb,QAQpBD,KARoB,uBAUtB,GAAIH,KAAJ,CAAW,CACTG,KAAK,CAAG,CACN,CACEE,IAAI,CAAEL,KADR,CAEEM,IAAI,CAAE,MAFR,CAGEC,GAAG,CAAEP,KAHP,CAIEQ,QAAQ,CAAE,CAJZ,CADM,CAAR,CAQD,CACD1B,OAAO,CAAGqB,KAAK,CAACM,GAAN,CAAU,SAACC,MAAD,CAAuBC,KAAvB,qBAClB,KAAC,IAAD,CAAM,IAAN,EACE,KAAK,CAAE,CAAEC,OAAO,CAAE,KAAX,CADT,CAGE,OAAO,CAAE,iBAACvB,CAAD,QACP,OAAKD,gBAAL,CAAsBC,CAAtB,CAAyB,CAAEU,KAAK,CAAEW,MAAM,CAACH,GAAhB,CAAzB,CADO,EAHX,uBAOE,KAAC,aAAD,EACE,KAAK,CAAEG,MADT,CAEE,KAAK,CAAEC,KAFT,CAGE,aAAa,CAAE,MAAKjB,KAAL,CAAWmB,WAH5B,EAPF,EAEOH,MAAM,CAACH,GAFd,CADkB,EAAV,CAAV,CApBsB,sDAoCHhC,CAAAA,iBAAiB,CAACyB,KAAD,CApCd,SAoChBV,KApCgB,eAqCtBR,OAAO,CAAGQ,KAAI,CAACmB,GAAL,CAAS,SAACC,MAAD,CAASC,KAAT,qBACjB,KAAC,IAAD,CAAM,IAAN,EAEE,OAAO,CAAE,iBAACtB,CAAD,QACP,OAAKD,gBAAL,CAAsBC,CAAtB,CAAyB,CAAEU,KAAK,CAAEW,MAAM,CAACH,GAAhB,CAAzB,CADO,EAFX,uBAME,KAAC,aAAD,EACE,KAAK,CAAEG,MADT,CAEE,KAAK,CAAEC,KAFT,CAGE,aAAa,CAAE,MAAKjB,KAAL,CAAWmB,WAH5B,CAIE,SAAS,KAJX,EANF,EACOH,MAAM,CAACH,GADd,CADiB,EAAT,CAAV,CArCsB,QAqDxB,GAAIN,SAAS,CAAG,MAAKtB,KAAL,CAAWK,mBAA3B,CAAgD,CAC9C,MAAKS,QAAL,CAAc,CACZV,OAAO,CAAE,KADG,CAEZD,OAAO,CAAPA,OAFY,CAGZE,mBAAmB,CAAEiB,SAHT,CAAd,EAKD,CA3DuB,uDAAD,GA4DtB,GA5DsB,CAAzB,CA6DD,CACD,MAAKd,SAAL,GACD,CAjED,EAFS,wDAjBb,wHAuFE,iBAAS,iBACP,gBAA8C,KAAKO,KAAnD,CAAQoB,YAAR,aAAQA,YAAR,CAAsBC,mBAAtB,aAAsBA,mBAAtB,CACA,GAAQjC,CAAAA,OAAR,CAAoB,KAAKH,KAAzB,CAAQG,OAAR,CACA,mBACE,aAAK,KAAK,CAAE,CAAEkC,QAAQ,CAAE,UAAZ,CAAZ,wBACE,aAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAmBC,GAAG,CAAE,KAAxB,CAAZ,wBACE,KAAC,KAAD,EACE,KAAK,CAAE,CAAEC,QAAQ,CAAE,CAAZ,CADT,CAEE,QAAQ,KAFV,CAGE,KAAK,KAHP,CAIE,KAAK,KAJP,CAKE,QAAQ,CAAE,KAAKzB,KAAL,CAAW0B,QALvB,CAME,QAAQ,CAAE,KAAKxB,QANjB,CAOE,OAAO,2FAAE,kBAAOP,CAAP,sHACPA,CAAC,CAACQ,OAAF,GACA,MAAI,CAACJ,QAAL,CACE,CACEb,UAAU,CAAEmC,mBAAmB,CAACD,YAAD,CADjC,CADF,CAIE,UAAM,CACJ,GACE,CAAC,MAAI,CAACnC,KAAL,CAAWC,UAAZ,EACC,MAAI,CAACD,KAAL,CAAWC,UAAX,EACC,MAAI,CAACD,KAAL,CAAWC,UAAX,CAAsBsB,UAAtB,CAAiC,MAAjC,CAHJ,CAIE,CACA,MAAI,CAACN,QAAL,CAAcP,CAAd,EACD,CACF,CAZH,EAcAG,UAAU,CAAC,iBAAMH,CAAAA,CAAC,CAACS,MAAF,CAASuB,MAAT,EAAN,EAAD,CAA0B,GAA1B,CAAV,CAhBO,wDAAF,gEAPT,CAyBE,MAAM,CAAE,iBAAM,CACZ7B,UAAU,CACR,iBACE,CAAA,MAAI,CAACC,QAAL,CAAc,CAAEb,UAAU,CAAEC,SAAd,CAAyBC,OAAO,CAAED,SAAlC,CAAd,CADF,EADQ,CAGR,GAHQ,CAAV,CAKD,CA/BH,CAgCE,UAAU,CAAE,oBAACQ,CAAD,CAAY,CACtB,GAAIA,CAAC,CAACiC,GAAF,GAAU,OAAd,CAAuB,CACrB,MAAI,CAAClC,gBAAL,CAAsBC,CAAtB,CAAyB,CACvBU,KAAK,CAAE,MAAI,CAACpB,KAAL,CAAWC,UADK,CAAzB,EAGD,CACF,CAtCH,CAuCE,IAAI,cACF,KAAC,IAAD,EACE,OAAO,CAAE,iBAACS,CAAD,QACP,CAAA,MAAI,CAACD,gBAAL,CAAsBC,CAAtB,CAAyB,CACvBU,KAAK,CAAE,MAAI,CAACpB,KAAL,CAAWC,UADK,CAAzB,CADO,EADX,CAME,IAAI,CAAC,aANP,CAOE,IAAI,KAPN,CAQE,QAAQ,KACR;AATF,EAxCJ,CAoDE,OAAO,CAAE,KAAKD,KAAL,CAAWI,OApDtB,CAqDE,KAAK,CAAE,eArDT,CAsDE,WAAW,CAAC,4DAtDd,CAuDE,KAAK,CACH,KAAKJ,KAAL,CAAWC,UAAX,GAA0BC,SAA1B,CACI,KAAKF,KAAL,CAAWC,UADf,CAEImC,mBAAmB,CAACD,YAAD,CA1D3B,EADF,cA8DE,KAAC,QAAD,EACE,IAAI,CAAC,MADP,CAEE,OAAO,KAFT,CAGE,SAAS,CAAC,MAHZ,CAIE,MAAM,KAJR,CAKE,IAAI,qBAAe,KAAKpB,KAAL,CAAW6B,QAAX,CAAoBC,MAAnC,KALN,CAME,SAAS,KANX,uBAQE,MAAC,QAAD,CAAU,IAAV,EAAe,SAAS,CAAC,MAAzB,WACG,KAAK9B,KAAL,CAAW6B,QAAX,CAAoBC,MAApB,GAA+B,CAA/B,eACC,KAAC,QAAD,CAAU,IAAV,EAAe,QAAQ,KAAvB,iDAFJ,CAMG,KAAK9B,KAAL,CAAW6B,QAAX,CAAoBd,GAApB,CAAwB,SAACgB,IAAD,CAAsBd,KAAtB,CAAwC,CAC/D,mBACE,KAAC,QAAD,CAAU,IAAV,wBACE,YAAK,KAAK,CAAE,CAAEe,QAAQ,CAAE,OAAZ,CAAZ,uBACE,KAAC,aAAD,EACE,KAAK,CAAED,IADT,CAEE,KAAK,CAAEd,KAFT,CAGE,QAAQ,KAHV,CAIE,MAAM,CAAE,gBAACA,KAAD,CAAW,2BACjB,MAAI,CAACjB,KAAL,CAAWC,QAAX,CAAoB,IAApB,CAA0B,CACxBI,KAAK,wBAAE,MAAI,CAACL,KAAL,CAAW6B,QAAX,CAAoBZ,KAApB,CAAF,gDAAE,sBAA4BJ,GADX,CAA1B,EAGA,MAAI,CAACb,KAAL,CAAWiC,cAAX,CAA0BhB,KAA1B,EACD,CATH,CAUE,UAAU,CAAE,oBAACA,KAAD,CAAW,CACrB,MAAI,CAACjB,KAAL,CAAWkC,YAAX,CAAwBjB,KAAxB,CAA+B,CAA/B,EACD,CAZH,CAaE,QAAQ,CAAE,kBAACA,KAAD,CAAW,CACnB,MAAI,CAACjB,KAAL,CAAWiC,cAAX,CAA0BhB,KAA1B,EACD,CAfH,CAgBE,QAAQ,CAAE,MAAI,CAACjB,KAAL,CAAW0B,QAhBvB,CAiBE,SAAS,CAAES,OAAO,CAACJ,IAAI,CAACK,GAAN,CAjBpB,EADF,EADF,EADF,CAyBD,CA1BA,CANH,GARF,EA9DF,GADF,CA2GGD,OAAO,CAAC/C,OAAD,CAAP,EAAoB,KAAKH,KAAL,CAAWC,UAAX,GAA0BC,SAA9C,eACC,KAAC,IAAD,EACE,KAAK,KADP,CAEE,QAAQ,KAFV,CAGE,KAAK,CAAE,CACLmC,QAAQ,CAAE,UADL,CAELe,GAAG,CAAE,MAFA,CAGLC,SAAS,CAAE,OAHN,CAILC,QAAQ,CAAE,QAJL,CAKLC,MAAM,CAAE,IALH,CAHT,UAWGpD,OAXH,EA5GJ,GADF,CA6HD,CAvNH,sBAA8Bd,KAAK,CAACmE,SAApC","sourcesContent":["import React from 'react';\nimport { DropdownProps, Menu, Input, Icon, Dropdown } from 'semantic-ui-react';\nimport { debounce, getMediaPathResults, getYouTubeResults } from '../../utils';\nimport { examples } from '../../utils/examples';\nimport ChatVideoCard from '../Playlist/ChatVideoCard';\n\ninterface ComboBoxProps {\n  setMedia: (e: any, data: DropdownProps) => void;\n  playlistAdd: (e: any, data: DropdownProps) => void;\n  playlistMove: (index: number, toIndex: number) => void;\n  playlistDelete: (index: number) => void;\n  currentMedia: string;\n  getMediaDisplayName: Function;\n  launchMultiSelect: Function;\n  mediaPath: string | undefined;\n  streamPath: string | undefined;\n  disabled?: boolean;\n  playlist: PlaylistVideo[];\n}\n\nexport class ComboBox extends React.Component<ComboBoxProps> {\n  state = {\n    inputMedia: undefined as string | undefined,\n    results: undefined as JSX.Element[] | undefined,\n    loading: false,\n    lastResultTimestamp: Number(new Date()),\n  };\n  debounced: any = null;\n\n  setMediaAndClose = (e: any, data: DropdownProps) => {\n    window.setTimeout(\n      () => this.setState({ inputMedia: undefined, results: undefined }),\n      300\n    );\n    this.props.setMedia(e, data);\n  };\n\n  doSearch = async (e: any) => {\n    e.persist();\n    this.setState({ inputMedia: e.target.value }, () => {\n      if (!this.debounced) {\n        this.debounced = debounce(async () => {\n          this.setState({ loading: true });\n          const query: string = this.state.inputMedia || '';\n          let timestamp = Number(new Date());\n          let results: JSX.Element[] | undefined = undefined;\n          if (query === '' || (query && query.startsWith('http'))) {\n            let items = examples;\n            if (!this.state.inputMedia && this.props.mediaPath) {\n              items = await getMediaPathResults(this.props.mediaPath, '');\n            }\n            if (query) {\n              items = [\n                {\n                  name: query,\n                  type: 'file',\n                  url: query,\n                  duration: 0,\n                },\n              ];\n            }\n            results = items.map((result: SearchResult, index: number) => (\n              <Menu.Item\n                style={{ padding: '2px' }}\n                key={result.url}\n                onClick={(e: any) =>\n                  this.setMediaAndClose(e, { value: result.url })\n                }\n              >\n                <ChatVideoCard\n                  video={result}\n                  index={index}\n                  onPlaylistAdd={this.props.playlistAdd}\n                />\n              </Menu.Item>\n            ));\n          } else {\n            const data = await getYouTubeResults(query);\n            results = data.map((result, index) => (\n              <Menu.Item\n                key={result.url}\n                onClick={(e: any) =>\n                  this.setMediaAndClose(e, { value: result.url })\n                }\n              >\n                <ChatVideoCard\n                  video={result}\n                  index={index}\n                  onPlaylistAdd={this.props.playlistAdd}\n                  isYoutube\n                />\n              </Menu.Item>\n            ));\n          }\n          if (timestamp > this.state.lastResultTimestamp) {\n            this.setState({\n              loading: false,\n              results,\n              lastResultTimestamp: timestamp,\n            });\n          }\n        }, 500);\n      }\n      this.debounced();\n    });\n  };\n\n  render() {\n    const { currentMedia, getMediaDisplayName } = this.props;\n    const { results } = this.state;\n    return (\n      <div style={{ position: 'relative' }}>\n        <div style={{ display: 'flex', gap: '4px' }}>\n          <Input\n            style={{ flexGrow: 1 }}\n            inverted\n            fluid\n            focus\n            disabled={this.props.disabled}\n            onChange={this.doSearch}\n            onFocus={async (e: any) => {\n              e.persist();\n              this.setState(\n                {\n                  inputMedia: getMediaDisplayName(currentMedia),\n                },\n                () => {\n                  if (\n                    !this.state.inputMedia ||\n                    (this.state.inputMedia &&\n                      this.state.inputMedia.startsWith('http'))\n                  ) {\n                    this.doSearch(e);\n                  }\n                }\n              );\n              setTimeout(() => e.target.select(), 100);\n            }}\n            onBlur={() => {\n              setTimeout(\n                () =>\n                  this.setState({ inputMedia: undefined, results: undefined }),\n                100\n              );\n            }}\n            onKeyPress={(e: any) => {\n              if (e.key === 'Enter') {\n                this.setMediaAndClose(e, {\n                  value: this.state.inputMedia,\n                });\n              }\n            }}\n            icon={\n              <Icon\n                onClick={(e: any) =>\n                  this.setMediaAndClose(e, {\n                    value: this.state.inputMedia,\n                  })\n                }\n                name=\"arrow right\"\n                link\n                circular\n                //bordered\n              />\n            }\n            loading={this.state.loading}\n            label={'Now Watching:'}\n            placeholder=\"Enter video file URL, YouTube link, or YouTube search term\"\n            value={\n              this.state.inputMedia !== undefined\n                ? this.state.inputMedia\n                : getMediaDisplayName(currentMedia)\n            }\n          />\n          <Dropdown\n            icon=\"list\"\n            labeled\n            className=\"icon\"\n            button\n            text={`Playlist (${this.props.playlist.length})`}\n            scrolling\n          >\n            <Dropdown.Menu direction=\"left\">\n              {this.props.playlist.length === 0 && (\n                <Dropdown.Item disabled>\n                  There are no items in the playlist.\n                </Dropdown.Item>\n              )}\n              {this.props.playlist.map((item: PlaylistVideo, index: number) => {\n                return (\n                  <Dropdown.Item>\n                    <div style={{ maxWidth: '500px' }}>\n                      <ChatVideoCard\n                        video={item}\n                        index={index}\n                        controls\n                        onPlay={(index) => {\n                          this.props.setMedia(null, {\n                            value: this.props.playlist[index]?.url,\n                          });\n                          this.props.playlistDelete(index);\n                        }}\n                        onPlayNext={(index) => {\n                          this.props.playlistMove(index, 0);\n                        }}\n                        onRemove={(index) => {\n                          this.props.playlistDelete(index);\n                        }}\n                        disabled={this.props.disabled}\n                        isYoutube={Boolean(item.img)}\n                      />\n                    </div>\n                  </Dropdown.Item>\n                );\n              })}\n            </Dropdown.Menu>\n          </Dropdown>\n        </div>\n        {Boolean(results) && this.state.inputMedia !== undefined && (\n          <Menu\n            fluid\n            vertical\n            style={{\n              position: 'absolute',\n              top: '22px',\n              maxHeight: '250px',\n              overflow: 'scroll',\n              zIndex: 1001,\n            }}\n          >\n            {results}\n          </Menu>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}